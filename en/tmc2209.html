<!doctype html>
<html lang="en" dir="ltr" class="mdx-wrapper mdx-page plugin-pages plugin-id-default">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.2.0">
<title data-rh="true">Replace and Tune TMC2209 drivers | Flyingbear Ghost Wiki</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://flyingbearghost.com/en/img/five/ghost5.jpg"><meta data-rh="true" name="twitter:image" content="https://flyingbearghost.com/en/img/five/ghost5.jpg"><meta data-rh="true" property="og:url" content="https://flyingbearghost.com/en/tmc2209"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docusaurus_tag" content="default"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docsearch:docusaurus_tag" content="default"><meta data-rh="true" property="og:title" content="Replace and Tune TMC2209 drivers | Flyingbear Ghost Wiki"><meta data-rh="true" name="description" content="Replacing the stock driver of the Flyingbear Ghost 5 3D printer with quiter TMC2209"><meta data-rh="true" property="og:description" content="Replacing the stock driver of the Flyingbear Ghost 5 3D printer with quiter TMC2209"><link data-rh="true" rel="icon" href="/en/resources/favicon.ico"><link data-rh="true" rel="canonical" href="https://flyingbearghost.com/en/tmc2209"><link data-rh="true" rel="alternate" href="https://flyingbearghost.com/en/tmc2209" hreflang="en"><link data-rh="true" rel="alternate" href="https://flyingbearghost.com/tmc2209" hreflang="it"><link data-rh="true" rel="alternate" href="https://flyingbearghost.com/tmc2209" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/en/blog/rss.xml" title="Flyingbear Ghost Wiki RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/en/blog/atom.xml" title="Flyingbear Ghost Wiki Atom Feed">





<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-BQ5B7ZKNJ6"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-BQ5B7ZKNJ6",{anonymize_ip:!0})</script><link rel="stylesheet" href="/en/assets/css/styles.4860babf.css">
<link rel="preload" href="/en/assets/js/runtime~main.76712579.js" as="script">
<link rel="preload" href="/en/assets/js/main.14f2a877.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><div class="announcementBar_mb4j" style="background-color:#eb9534;color:#091E42" role="banner"><div class="announcementBarPlaceholder_vyr4"></div><div class="content_knG7 announcementBarContent_xLdY">Ultimo articolo pubblicato: <a target="_blank" rel="noopener noreferrer" href="https://flyingbearghost.com/upgrades/cavo_bltouch">Guida per la preparazione della prolunga per BLTouch, a cura di Shany</a></div><button type="button" aria-label="Close" class="clean-btn close closeButton_CVFx announcementBarClose_gvF7"><svg viewBox="0 0 15 15" width="14" height="14"><g stroke="currentColor" stroke-width="3.1"><path d="M.75.75l13.5 13.5M14.25.75L.75 14.25"></path></g></svg></button></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a href="https://flyingbearghost.com" target="_blank" rel="noopener noreferrer" class="navbar__brand"><div class="navbar__logo"><img src="/en/resources/fbghostitaLogo.jpg" alt="My Site Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/en/resources/fbghostitaLogo.jpg" alt="My Site Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Home</b></a><div class="navbar__item dropdown dropdown--hoverable"><a aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link" href="/en/">Technical Sheet</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/en/four_s">Ghost 4s</a></li><li><a class="dropdown__link" href="/en/five">Ghost 5</a></li></ul></div><a class="navbar__item navbar__link" href="/en/docs">Wiki</a><a class="navbar__item navbar__link" href="/en/blog">Blog</a><a class="navbar__item navbar__link" href="/en/upgrades">Upgrades</a><a class="navbar__item navbar__link" href="/en/ricambi">Spare Parts</a><div class="navbar__item dropdown dropdown--hoverable"><a aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link" href="/en/">Filamenti</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/en/filamenti/eryonePlaSilkRainbow">Eryone PLA Silk Rainbow</a></li><li><a class="dropdown__link" href="/en/filamenti/sunluBianco">Sunlu PLA+ Bianco</a></li></ul></div><a class="navbar__item navbar__link" href="/en/da_stampare">Da Stampare</a><a class="navbar__item navbar__link" href="/en/faq">FAQ</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/flyingbear-club-ita" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>English</a><ul class="dropdown__menu"><li><a href="/en/tmc2209" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="en">English</a></li><li><a href="/tmc2209" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="it">Italiano</a></li></ul></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><div class="navbar__search searchBarContainer_NW3z"><input placeholder="Search" aria-label="Search" class="navbar__search-input"><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><main class="container container--fluid margin-vert--lg"><div class="row mdxPageWrapper_j9I6"><div class="col"><article><div class="theme-admonition theme-admonition-danger alert alert--danger admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>danger</div><div class="admonitionContent_S0QG"><p>When calibrating the VREF, absolutely do not touch any other component of the motherboard to avoid any short circuit!!!</p></div></div><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_S0QG"><ol><li>Buy the NON UART version (the one without the trasversal pins)</li><li>This does not apply to all Flyingbear Ghost motherboards: some of them come with TMC2225 presoldered, which are quiet already, some of them come with a combination of TMC2209 and A4988, so it might not be necessary to replace four drivers, but two will be enough</li></ol></div></div><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>Link to buy the recommended drivers from Aliexpress</div><div class="admonitionContent_S0QG"><p><a href="https://a.aliexpress.com/_BPl4HL" target="_blank" rel="noopener noreferrer">https://a.aliexpress.com/_BPl4HL</a></p></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="step-1-open-the-printer">Step 1: Open the printer<a class="hash-link" href="#step-1-open-the-printer" title="Direct link to heading">​</a></h2><p>Make sure your printer is off, possibly removed the power cable too, then flip the printer over on one side, then remove the bottom panel to access all the electronics</p><p><a target="_blank" href="/en/assets/files/driver1-7384984368bd788ea756da7841d20e70.jpg"><img loading="lazy" src="/en/assets/images/driver1-7384984368bd788ea756da7841d20e70.jpg" width="464" height="618" class="img_ev3q"></a>
<a target="_blank" href="/en/assets/files/driver2-4343d848b2f2debcdccc7075b7a13b2e.jpg"><img loading="lazy" src="/en/assets/images/driver2-4343d848b2f2debcdccc7075b7a13b2e.jpg" width="440" height="587" class="img_ev3q"></a>
<a target="_blank" href="/en/assets/files/driver3-e33baa0b2e76a4738046744f6e0aeee2.jpg"><img loading="lazy" src="/en/assets/images/driver3-e33baa0b2e76a4738046744f6e0aeee2.jpg" width="440" height="587" class="img_ev3q"></a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="step-2-remove-components-and-cables">Step 2: Remove components and cables<a class="hash-link" href="#step-2-remove-components-and-cables" title="Direct link to heading">​</a></h2><p>Remove the motherboard fan</p><p><a target="_blank" href="/en/assets/files/driver4-334174c5da43c94bf9704f57c19ccc7f.jpg"><img loading="lazy" src="/en/assets/images/driver4-334174c5da43c94bf9704f57c19ccc7f.jpg" width="440" height="587" class="img_ev3q"></a></p><p>Once you&#x27;ve removed the fan, the motherboard with the original drivers will be easily accessible</p><p>Remove all the hot glue from the drivers connections, if present, then remove the motor cables from the motherboard</p><p>Finally, be careful to remove all the drivers from their slots</p><div class="displayAd"><ins class="adsbygoogle" style="display:block;text-align:center" data-ad-client="ca-pub-3253384067482467" data-ad-slot="5610548275" data-ad-format="auto"></ins></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="step-3-replace-drivers">Step 3: Replace drivers<a class="hash-link" href="#step-3-replace-drivers" title="Direct link to heading">​</a></h2><p>Insert all the drivers, starting from the right side of the motherboard, in their slots, one at the time, making sure the trimmer is on the bottom right, as shown in the pictures</p><p><a target="_blank" href="/en/assets/files/driver5-98d6362f1c3db6f620c4bffb34990fff.jpg"><img loading="lazy" src="/en/assets/images/driver5-98d6362f1c3db6f620c4bffb34990fff.jpg" width="440" height="587" class="img_ev3q"></a></p><p>Plug the power cable, if you unplugged it, then turn on the printer and check the actual VREF by using a multimeter</p><p>Set it to DC, then put the negative probe on the GND pin of the driver (or the power supply) and the positive one on the trimmer, making sure probes won&#x27;t get in touch with any other part of the driver</p><p><a target="_blank" href="/en/assets/files/driver6-cca6fd49773967353b6adc9484ea8d2d.jpg"><img loading="lazy" src="/en/assets/images/driver6-cca6fd49773967353b6adc9484ea8d2d.jpg" width="440" height="587" class="img_ev3q"></a></p><p>The next step will be setting the VREF according to the measured value</p><div class="theme-admonition theme-admonition-caution alert alert--warning admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</div><div class="admonitionContent_S0QG"><p>The VREF value has always been under debate in the community</p><p>Each printer is different, some people say their drivers work well with higher values, some other people prefer to lower them, because they&#x27;ve experienced their motors overheat</p><p>You can try two sets of values:</p><p><strong>X Y Z = 1.2 E0=1.4</strong>
<strong>X Y Z = 0.9 E0=1.1</strong></p><p><strong>IN BOTH CASES, WE DECLINE ANY RESPONSIBILITY FOR ANY DAMAGE CAUSED TO THE PRINTER</strong></p></div></div><p>TO set the VREF correctly, turn off the printer, turn the trimmer with the screwdriver you found with the drivers (or any other screwdriver you have and fits...), turn on the printer, then measure again</p><p>Repeat this procedure until you&#x27;ve reached the desired VREF value</p><div class="displayAd"><ins class="adsbygoogle" style="display:block;text-align:center" data-ad-client="ca-pub-3253384067482467" data-ad-slot="5610548275" data-ad-format="auto"></ins></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="step-4-firmware-update">Step 4: Firmware update<a class="hash-link" href="#step-4-firmware-update" title="Direct link to heading">​</a></h2><p>Extract the MicroSD from the printer, insert it in your computer, then save on the hard drive the robin_nano35_cfg.cur file. Rename is as txt (robin_nano35_cfg.txt)</p><p>If you don&#x27;t have this file, you can find it in the firmware section</p><p>Now you must invert the directions of the drivers according to the following:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">&gt;INVERT_X_DIR            0  </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">&gt;INVERT_Y_DIR            0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">&gt;INVERT_Z_DIR            1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">&gt;INVERT_E0_DIR           1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">&gt;INVERT_E1_DIR           0</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Save the file, then copy it on the MicroSD</p><p>After that, insert the SD inside the printer, turn it on, then wait for the update to complete</p><p>Perfect! Now your printer will be very quiet!</p><div class="displayAd"><ins class="adsbygoogle" style="display:block;text-align:center" data-ad-client="ca-pub-3253384067482467" data-ad-slot="5610548275" data-ad-format="auto"></ins></div></article></div></div></main></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Legal</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/en/privacypolicy">Privacy Policy</a></li><li class="footer__item"><a class="footer__link-item" href="/en/contactus">Contact us</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Created by the Flyingbear Italian Community</div></div></div></footer></div>
<script src="/en/assets/js/runtime~main.76712579.js"></script>
<script src="/en/assets/js/main.14f2a877.js"></script>
</body>
</html>