"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[4802],{3905:function(e,a,t){t.d(a,{Zo:function(){return c},kt:function(){return u}});var r=t(67294);function i(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}function o(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);a&&(r=r.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,r)}return t}function n(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?o(Object(t),!0).forEach((function(a){i(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}function l(e,a){if(null==e)return{};var t,r,i=function(e,a){if(null==e)return{};var t,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)t=o[r],a.indexOf(t)>=0||(i[t]=e[t]);return i}(e,a);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)t=o[r],a.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}var s=r.createContext({}),p=function(e){var a=r.useContext(s),t=a;return e&&(t="function"==typeof e?e(a):n(n({},a),e)),t},c=function(e){var a=p(e.components);return r.createElement(s.Provider,{value:a},e.children)},m={inlineCode:"code",wrapper:function(e){var a=e.children;return r.createElement(r.Fragment,{},a)}},d=r.forwardRef((function(e,a){var t=e.components,i=e.mdxType,o=e.originalType,s=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),d=p(t),u=i,f=d["".concat(s,".").concat(u)]||d[u]||m[u]||o;return t?r.createElement(f,n(n({ref:a},c),{},{components:t})):r.createElement(f,n({ref:a},c))}));function u(e,a){var t=arguments,i=a&&a.mdxType;if("string"==typeof e||i){var o=t.length,n=new Array(o);n[0]=d;var l={};for(var s in a)hasOwnProperty.call(a,s)&&(l[s]=a[s]);l.originalType=e,l.mdxType="string"==typeof e?e:i,n[1]=l;for(var p=2;p<o;p++)n[p]=t[p];return r.createElement.apply(null,n)}return r.createElement.apply(null,t)}d.displayName="MDXCreateElement"},37674:function(e,a,t){t.d(a,{Z:function(){return i}});var r=t(67294);class i extends r.Component{componentDidMount(){(window.adsbygoogle=window.adsbygoogle||[]).push({})}render(){return r.createElement("div",{className:"displayAd",key:Math.random()},r.createElement("ins",{className:"adsbygoogle",key:Math.random(),style:{display:"block",textAlign:"center"},"data-ad-client":"ca-pub-3253384067482467","data-ad-slot":"5610548275","data-ad-format":"auto"}))}}},37696:function(e,a,t){t.r(a),t.d(a,{assets:function(){return p},contentTitle:function(){return l},default:function(){return d},frontMatter:function(){return n},metadata:function(){return s},toc:function(){return c}});var r=t(83117),i=(t(67294),t(3905)),o=t(37674);const n={title:"Come ripristinare il bootloader",slug:"/firmware/ripristino_bootloader",description:"Guida per il ripristino del bootloader dopo aver flashato il firmware sbagliato"},l=void 0,s={unversionedId:"firmware/ripristino_bootloader",id:"firmware/ripristino_bootloader",title:"Come ripristinare il bootloader",description:"Guida per il ripristino del bootloader dopo aver flashato il firmware sbagliato",source:"@site/docs/firmware/ripristino_bootloader.md",sourceDirName:"firmware",slug:"/firmware/ripristino_bootloader",permalink:"/docs/firmware/ripristino_bootloader",draft:!1,editUrl:"https://github.com/flyingbear-club-ita/wiki/tree/master/docs/firmware/ripristino_bootloader.md",tags:[],version:"current",frontMatter:{title:"Come ripristinare il bootloader",slug:"/firmware/ripristino_bootloader",description:"Guida per il ripristino del bootloader dopo aver flashato il firmware sbagliato"},sidebar:"docs",previous:{title:"Firmware Stock",permalink:"/docs/firmware/firmware_stock"},next:{title:"Ripristino bootloader con ST-LINK Utility",permalink:"/docs/firmware/ripristino_bootloader_alternativo"}},p={},c=[{value:"Materiale occorrente",id:"materiale-occorrente",level:2},{value:"Preparare bootloader e firmware",id:"preparare-bootloader-e-firmware",level:2},{value:"Collegamenti",id:"collegamenti",level:2},{value:"Come flashare il bootloader con STM32 Cube Programmer",id:"come-flashare-il-bootloader-con-stm32-cube-programmer",level:2},{value:"Procedura finale",id:"procedura-finale",level:2}],m={toc:c};function d(e){let{components:a,...n}=e;return(0,i.kt)("wrapper",(0,r.Z)({},m,n,{components:a,mdxType:"MDXLayout"}),(0,i.kt)("script",{async:!0,src:"https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3253384067482467","data-overlays":"bottom",crossorigin:"anonymous"}),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Autori"),": OrkoMastro e matteoberg"),(0,i.kt)("admonition",{type:"danger"},(0,i.kt)("p",{parentName:"admonition"},"La procedura qui descritta e' stata testata da piu' utenti, ma non ci assumiamo nessuna responsabilita' per eventuali danni a software o hardware della stampante")),(0,i.kt)(o.Z,{mdxType:"DisplayAd"}),(0,i.kt)("p",null,"Se, dopo aver tentato l\u2019aggiornamento ad un nuovo firmware, il processo di installazione si ferma sulla schermata \"Font Table Updating 100% ed al riavvio della stampante, a schermo compare fisso la scritta \u201cBooting...\u201d, e' necessario ricaricare il bootloader sulla scheda madre"),(0,i.kt)("p",null,"Non preoccupatevi: si pu\xf2 sistemare, basta armarsi di un po\u2019 di pazienza"),(0,i.kt)("p",null,"Se capite l\u2019inglese e volete affidarvi alla discussione sul problema, potete trovarla al ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/makerbase-mks/MKS-Robin-Nano-S-Firmware/issues/3"},"seguente link")),(0,i.kt)("h2",{id:"materiale-occorrente"},"Materiale occorrente"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://www.amazon.it/Youmile-Emulator-Downloader-programmatore-programmazione/dp/B07QBLNDPM/ref=sr_1_4?__mk_it_IT=%C3%85M%C3%85%C5%BD%C3%95%C3%91&dchild=1&keywords=ST-LINK+V2&qid=1633304784&s=electronics&sr=1-4"},"Youmile Youmile ST-LINK V2 programmer")," ",(0,i.kt)("strong",{parentName:"li"},"da acquistare su amazon, o dove vi pare")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://www.st.com/en/development-tools/stm32cubeprog.html"},"STM32 Cube Programmer"),", compatible con Windows 32bit, Windows 64 bit, Mac OSx e Linux"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://github.com/makerbase-mks/MKS-Robin-Nano-V1.X/archive/refs/heads/master.zip"},"File per il Bootloader"))),(0,i.kt)("admonition",{type:"tip"},(0,i.kt)("p",{parentName:"admonition"},"STM32 Cube Programmer potrebbe non funzionare su sistemi operativi Windows molto vecchi\nIn questo caso, proseguite alla ",(0,i.kt)("a",{parentName:"p",href:"/docs/firmware/ripristino_bootloader_alternativo"},"pagina successiva"),", dove c'e' una guida per un software alternativo")),(0,i.kt)(o.Z,{mdxType:"DisplayAd"}),(0,i.kt)("h2",{id:"preparare-bootloader-e-firmware"},"Preparare bootloader e firmware"),(0,i.kt)("p",null,"Una volta scaricato l\u2019archivio del bootloader, estrarre il file ",(0,i.kt)("em",{parentName:"p"},"Robin_nano35_v13_f4_boot_210615.hex")," contenuto nel percorso ",(0,i.kt)("em",{parentName:"p"},"/MKS-Robin_Nano-V1.X-master/Bootloader/")," e salvarlo sul Desktop per facilitare i passaggi"),(0,i.kt)("p",null,"Successivamente, estrarre l\u2019archivio ",(0,i.kt)("em",{parentName:"p"},"Mks_Nano35_V2.0.3.6 Release file.rar")," contenuto nel percorso ",(0,i.kt)("em",{parentName:"p"},"/MKS-Robin-Nano-V1.X-master/Nano firmware v2.x.x/")," ed estrarne la cartella ",(0,i.kt)("em",{parentName:"p"},"English")," contenuta nel percorso ",(0,i.kt)("em",{parentName:"p"},"/Mks_Nano35_V2.0.3.6 Release file"),", salvandola sempre sul Desktop per facilitare i passaggi. Questa cartella contiene il firmware MKS, che servira' da base per installare il firmware della Flyingbear"),(0,i.kt)("admonition",{type:"caution"},(0,i.kt)("p",{parentName:"admonition"},"Prima di procedere, assicurarsi che la testa di stampa sia nella posizione di home e che il piatto sia a qualche centimetro dalla testa di stampa!!!")),(0,i.kt)("h2",{id:"collegamenti"},"Collegamenti"),(0,i.kt)("p",null,"Prima di collegare l\u2019ST-LINK (il programmatore USB precedentemente acquistato) al PC, dovremo prima spegnere la stampante tramite l'interruttore luminoso sul retro, ",(0,i.kt)("strong",{parentName:"p"},"assicurandoci pero' che il cavo di alimentazione sia collegato alla presa di corrente")),(0,i.kt)("p",null,"Successivamente potremo procedere a rimuovere il pannello inferiore, girando la stampante facendola poggiare sul lato sinistro, in modo che il pannello inferiore sia accessibile, svitando le 6 viti a brugola presenti sul pannello"),(0,i.kt)("admonition",{type:"tip"},(0,i.kt)("p",{parentName:"admonition"},"Per praticit\xe0 di accesso, potete anche svitare le 2 viti a brugola che trattengono in posizione la ventola di raffreddamento per poterla rimuovere ed avere maggior spazio di manovra per le prossime operazioni")),(0,i.kt)("p",null,"Per i collegamenti tra la scheda madre e l\u2019ST-LINK, basatevi sulle scritte presenti sul fronte del\nprogrammatore USB stesso "),(0,i.kt)("p",null,(0,i.kt)("a",{target:"_blank",href:t(17564).Z}," ",(0,i.kt)("img",{alt:"Programmatore ST-Link",src:t(57546).Z,width:"400",height:"400"})," ")),(0,i.kt)("p",null,"Sulla scheda madre i Pin da collegare sono quelli evidenziati nell\u2019immagine seguente"),(0,i.kt)("p",null,(0,i.kt)("a",{target:"_blank",href:t(90524).Z}," ",(0,i.kt)("img",{alt:"Pin della Scheda da collegare",src:t(70376).Z,width:"603",height:"492"})," ")),(0,i.kt)("p",null,"Per semplicit\xe0, di seguito sono riportati i collegamenti da effettuare"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:"center"},"Pin ST_LINK"),(0,i.kt)("th",{parentName:"tr",align:"center"},"Pin Scheda Madre"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"center"},"SWCLK"),(0,i.kt)("td",{parentName:"tr",align:"center"},"3")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"center"},"SWDIO"),(0,i.kt)("td",{parentName:"tr",align:"center"},"1")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"center"},"GND"),(0,i.kt)("td",{parentName:"tr",align:"center"},"6")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"center"},"3.3v"),(0,i.kt)("td",{parentName:"tr",align:"center"},"2")))),(0,i.kt)("p",null,(0,i.kt)("a",{target:"_blank",href:t(31642).Z}," ",(0,i.kt)("img",{alt:"Dettaglio Pin Scheda",src:t(76784).Z,width:"306",height:"202"})," "),"     ",(0,i.kt)("a",{target:"_blank",href:t(37891).Z}," ",(0,i.kt)("img",{alt:"Dettaglio Pin Programmatore",src:t(17016).Z,width:"259",height:"259"})," ")),(0,i.kt)("p",null,"Assicuratevi che i cavetti siano saldamente collegati ai Pin della scheda madre e che corrispondano allo schema indicato precedentemente"),(0,i.kt)("p",null,"Collegare l\u2019ST-LINK ad una porta USB del PC, se i collegamenti sono esatti la scheda e lo schermo della stampante dovrebbero accendersi"),(0,i.kt)(o.Z,{mdxType:"DisplayAd"}),(0,i.kt)("h2",{id:"come-flashare-il-bootloader-con-stm32-cube-programmer"},"Come flashare il bootloader con STM32 Cube Programmer"),(0,i.kt)("p",null,"Aprite il software STM32CubeProgrammer che avete scaricato precedentemente e seguite i\nprossimi passaggi"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"Cliccate sul pulsante ",(0,i.kt)("strong",{parentName:"li"},"Connect"),(0,i.kt)("a",{target:"_blank",href:t(11980).Z}," ",(0,i.kt)("img",{alt:"STM32 Connect",src:t(38265).Z,width:"1202",height:"782"})," ")),(0,i.kt)("li",{parentName:"ol"},"Cliccate sul pulsante ",(0,i.kt)("strong",{parentName:"li"},"Full chip erase")),(0,i.kt)("li",{parentName:"ol"},"Cliccate su ",(0,i.kt)("strong",{parentName:"li"},"Browse")," e selezionate il file ",(0,i.kt)("em",{parentName:"li"},"Robin_nano35_v13_f4_boot_210615.hex")," salvato precedentemente"),(0,i.kt)("li",{parentName:"ol"},"Cliccate sul pulsante ",(0,i.kt)("strong",{parentName:"li"},"Start Programming")," e attendete che termini il processo\n",(0,i.kt)("a",{target:"_blank",href:t(30704).Z}," ",(0,i.kt)("img",{alt:"STM32 Start Programming",src:t(98043).Z,width:"1202",height:"782"})," ")),(0,i.kt)("li",{parentName:"ol"},"Terminato il processo sar\xe0 possibile scollegare l\u2019 ST-LINK dalla porta USB ed il cavo dalla scheda madre della stampante; cos\xec facendo, la scheda e lo schermo della stampante dovrebbero spegnersi")),(0,i.kt)("h2",{id:"procedura-finale"},"Procedura finale"),(0,i.kt)("p",null,"Prima di proseguire, potete rimontare la ventola di raffreddamento, richiudere il pannello inferiore della stampante e riposizionarla in posizione verticale"),(0,i.kt)("p",null,"Per poter caricare il nuovo firmware, collegate una Micro SDcard al PC e formattatela in formato\n",(0,i.kt)("strong",{parentName:"p"},"FAT32")),(0,i.kt)("p",null,"Una volta formattata, copiate l\u2019intero contenuto della cartella ",(0,i.kt)("em",{parentName:"p"},"English")," salvata precedentemente sul Desktop"),(0,i.kt)("p",null,"Per chiarezza, dovrete copiare i seguenti elementi:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Cartella mks_font"),(0,i.kt)("li",{parentName:"ul"},"Cartella mks_pic"),(0,i.kt)("li",{parentName:"ul"},"File MksWifi.bin"),(0,i.kt)("li",{parentName:"ul"},"File robin_nano35_cfg.txt"),(0,i.kt)("li",{parentName:"ul"},"File Robin_nano35.bin")),(0,i.kt)("p",null,"Una volta copiati i file sulla Micro SDcard, scollegatela dal PC ed inseritela nell\u2019apposito slot sulla stampante ed accendetela tramite l\u2019interruttore presente sul retro della stessa"),(0,i.kt)("p",null,"Appena accesa la stampante, il processo di caricamento del nuovo firmware dovrebbe iniziare automaticamente"),(0,i.kt)("admonition",{type:"caution"},(0,i.kt)("p",{parentName:"admonition"},"Nel caso in cui il processo apparisse bloccato sul messaggio a schermo \u201cUpdating 100%\u201d, attendete circa 10 minuti, dopodich\xe9 spegnete la stampante tramite l\u2019interruttore sul retro, estraete la Micro SDcard ed accendetela nuovamente")),(0,i.kt)("p",null,"Se il processo \xe8 andato a buon fine, dovrebbe apparire a schermo il logo Makerbase ed avrete installato il Custom Firmware che probabilmente tanto agognavate!"),(0,i.kt)("p",null,"A questo punto, e' possibile installare il firmware stock della ghost"),(0,i.kt)("admonition",{type:"info"},(0,i.kt)("p",{parentName:"admonition"},"Per qualsiasi domanda in merito a questa guida, non esitate a contattarci via Discord:\nmatteoberg#3262 e OrkoMastro#0507")),(0,i.kt)(o.Z,{mdxType:"DisplayAd"}))}d.isMDXComponent=!0},17564:function(e,a,t){a.Z=t.p+"assets/files/01-0d9473a03cd09f09ce8331be8787d5d1.jpg"},37891:function(e,a,t){a.Z=t.p+"assets/files/02-d165504725332b6dac5608cc0505d61b.jpg"},90524:function(e,a,t){a.Z=t.p+"assets/files/03-f81d81234b01f6e8fa227ea3258c77b0.jpg"},31642:function(e,a,t){a.Z=t.p+"assets/files/04-b98a61ef9750a31473adee57786f207d.jpg"},11980:function(e,a,t){a.Z=t.p+"assets/files/05-b56bffc70b93c956dceaf45b571ad97b.png"},30704:function(e,a,t){a.Z=t.p+"assets/files/06-f6014b0bd1a94fb5a3dac201eeb86657.png"},57546:function(e,a,t){a.Z=t.p+"assets/images/01-0d9473a03cd09f09ce8331be8787d5d1.jpg"},17016:function(e,a,t){a.Z=t.p+"assets/images/02-d165504725332b6dac5608cc0505d61b.jpg"},70376:function(e,a,t){a.Z=t.p+"assets/images/03-f81d81234b01f6e8fa227ea3258c77b0.jpg"},76784:function(e,a,t){a.Z=t.p+"assets/images/04-b98a61ef9750a31473adee57786f207d.jpg"},38265:function(e,a,t){a.Z=t.p+"assets/images/05-b56bffc70b93c956dceaf45b571ad97b.png"},98043:function(e,a,t){a.Z=t.p+"assets/images/06-f6014b0bd1a94fb5a3dac201eeb86657.png"}}]);